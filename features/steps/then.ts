import {Then} from '@cucumber/cucumber';

import checkClass from '../support/check/checkClass';
import checkContainsAnyText from '../support/check/checkContainsAnyText';
import checkIsEmpty from '../support/check/checkIsEmpty';
import checkContainsText from '../support/check/checkContainsText';
import checkCookieContent from '../support/check/checkCookieContent';
import checkCookieExists from '../support/check/checkCookieExists';
import checkDimension from '../support/check/checkDimension';
import checkEqualsText from '../support/check/checkEqualsText';
import checkFocus from '../support/check/checkFocus';
import checkInURLPath from '../support/check/checkInURLPath';
import checkIsOpenedInNewWindow from '../support/check/checkIsOpenedInNewWindow';
import checkModal from '../support/check/checkModal';
import checkModalText from '../support/check/checkModalText';
import checkNewWindow from '../support/check/checkNewWindow';
import checkOffset from '../support/check/checkOffset';
import checkProperty from '../support/check/checkProperty';
import checkFontProperty from '../support/check/checkFontProperty';
import checkSelected from '../support/check/checkSelected';
import checkTitle from '../support/check/checkTitle';
import checkTitleContains from '../support/check/checkTitleContains';
import checkURL from '../support/check/checkURL';
import checkURLPath from '../support/check/checkURLPath';
import checkWithinViewport from '../support/check/checkWithinViewport';
import compareText from '../support/check/compareText';
import isEnabled from '../support/check/isEnabled';
import isExisting from '../support/check/isExisting';
import isVisible from '../support/check/isDisplayed';
import waitFor from '../support/action/waitFor';
import waitForVisible from '../support/action/waitForDisplayed';
import checkIfElementExists from '../support/lib/checkIfElementExists';
import LoginPage from "../pageobjects/login.page";
import LoginPass from "../pageobjects/login.pass";
import MainPage from "../pageobjects/main.page";

function Loaders(element) {
    let element1;
    if (element === "Loader") {
        element = MainPage.Loader;
        element1 = MainPage.bigLoader;
    }
    browser.pause(1000);
    $(element).waitForDisplayed({timeout: 90000, reverse: true});
    $(element1).waitForDisplayed({timeout: 90000, reverse: true});
    browser.pause(1000);
}

Then(
    /^I expect that the title is( not)* "([^"]*)?"$/,
    checkTitle
);

Then(
    /^I expect that the title( not)* contains "([^"]*)?"$/,
    checkTitleContains
);

Then(
    /^I expect that element "([^"]*)?" does( not)* appear exactly "([^"]*)?" times$/,
    checkIfElementExists
);

Then(
    /^I expect that element "([^"]*)?" is( not)* displayed$/,
    isVisible
);

Then(
    /^I expect that element "([^"]*)?" becomes( not)* displayed$/,
    waitForVisible
);

Then(
    /^I expect that element "([^"]*)?" is( not)* within the viewport$/,
    checkWithinViewport
);

Then(
    /^I expect that element "([^"]*)?" does( not)* exist$/,
    isExisting
);

Then(
    /^I expect that element "([^"]*)?"( not)* contains the same text as element "([^"]*)?"$/,
    compareText
);

Then(
    /^I expect that (button|element) "([^"]*)?"( not)* matches the text "([^"]*)?"$/,
    checkEqualsText
);

Then(
    /^I expect that (button|element|container) "([^"]*)?"( not)* contains the text "([^"]*)?"$/,
    checkContainsText
);

Then(
    /^I expect that (button|element) "([^"]*)?"( not)* contains any text$/,
    checkContainsAnyText
);

Then(
    /^I expect that (button|element) "([^"]*)?" is( not)* empty$/,
    checkIsEmpty
);

Then(
    /^I expect that the url is( not)* "([^"]*)?"$/,
    checkURL
);

Then(
    /^I expect that the path is( not)* "([^"]*)?"$/,
    checkURLPath
);

Then(
    /^I expect the url to( not)* contain "([^"]*)?"$/,
    checkInURLPath
);

Then(
    /^I expect that the( css)* attribute "([^"]*)?" from element "([^"]*)?" is( not)* "([^"]*)?"$/,
    checkProperty
);

Then(
    /^I expect that the font( css)* attribute "([^"]*)?" from element "([^"]*)?" is( not)* "([^"]*)?"$/,
    checkFontProperty
);

Then(
    /^I expect that checkbox "([^"]*)?" is( not)* checked$/,
    checkSelected
);

Then(
    /^I expect that element "([^"]*)?" is( not)* selected$/,
    checkSelected
);

Then(
    /^I expect that element "([^"]*)?" is( not)* enabled$/,
    isEnabled
);

Then(
    /^I expect that cookie "([^"]*)?"( not)* contains "([^"]*)?"$/,
    checkCookieContent
);

Then(
    /^I expect that cookie "([^"]*)?"( not)* exists$/,
    checkCookieExists
);

Then(
    /^I expect that element "([^"]*)?" is( not)* ([\d]+)px (broad|tall)$/,
    checkDimension
);

Then(
    /^I expect that element "([^"]*)?" is( not)* positioned at ([\d+.?\d*]+)px on the (x|y) axis$/,
    checkOffset
);

Then(
    /^I expect that element "([^"]*)?" (has|does not have) the class "([^"]*)?"$/,
    checkClass
);

Then(
    /^I expect a new (window|tab) has( not)* been opened$/,
    checkNewWindow
);

Then(
    /^I expect the url "([^"]*)?" is opened in a new (tab|window)$/,
    checkIsOpenedInNewWindow
);

Then(
    /^I expect that element "([^"]*)?" is( not)* focused$/,
    checkFocus
);

Then(
    /^I wait on element "([^"]*)?"(?: for (\d+)ms)*(?: to( not)* (be checked|be enabled|be selected|be displayed|contain a text|contain a value|exist))*$/,
    {
        wrapperOptions: {
            retry: 3,
        },
    },
    waitFor
);

Then(
    /^I expect that a (alertbox|confirmbox|prompt) is( not)* opened$/,
    checkModal
);

Then(
    /^I expect that a (alertbox|confirmbox|prompt)( not)* contains the text "([^"]*)?"$/,
    checkModalText
);

Then(
    /^I wait on elements "([^"]*)?"*$/,
    function (element) {
        if (element === "buttonEnter") {
            element = LoginPage.buttonEnter;
        }
        if (element === "passwordIsChange") {
            element = LoginPage.passwordIsChange;
        }
        if (element === "username") {
            element = LoginPage.username;
        }
        if (element === "iconEmptyAlternativeFilter") {
            element = LoginPage.iconEmptyAlternativeFilter;
        }
        if (element === "iconFullAlternativeFilter") {
            element = LoginPage.iconFullAlternativeFilter;
        }
        if (element === "Office") {
            element = LoginPage.Office;
            browser.pause(4000)
        }
        if (element === "mainCheckboxIsChecked") {
            element = LoginPage.mainCheckboxIsChecked;
        }
        if (element === "secondCheckboxIsChecked") {
            element = LoginPage.secondCheckboxIsChecked;
        }
        if (element === "firstCheckboxIsChecked") {
            element = LoginPage.firstCheckboxIsChecked;
        }
        if (element === "multiselectPanel") {
            element = LoginPage.multiselectPanel;
        }
        if (element === "OrdersClose") {
            element = LoginPage.ordersClose;
        }
        if (element === "PopUp") {
            element = LoginPage.popUpConfirmCopyInShipping;
        }
        if (element === "Proforma Grid") {
            element = LoginPage.proformaGrid;
        }
        if (element === "Client Orders Grid") {
            element = LoginPage.clientOrdersGrid
        }
        if (element === "Preform Grid") {
            element = LoginPage.pr–µformGrid
        }
        if (element === "Planning Grid") {
            element = LoginPage.planningGrid
        }
        if (element === "Revert Status") {
            element = LoginPage.gridCarriersRevertStatus
        }
        element.waitForExist(20000);
        Loaders("Loader");
    }
);

Then(
    /^I wait on mailnesia elements "([^"]*)?"*$/,
    function (element) {
        if (element === "testmail") {
            element = LoginPage.mailnesiaMail;
        }
        if (element === "testmail1") {
            element = LoginPage.mailnesiaMail1;
        }
        if (element === "testmail2") {
            element = LoginPage.mailnesiaMail2;
        }
        if (element === "testmail3") {
            element = LoginPage.mailnesiaMail3;
        }
        if (element === "testmail4") {
            element = LoginPage.mailnesiaMail4;
        }
        if (element === "testmail5") {
            element = LoginPage.mailnesiaMail5;
        }
        if (element === "testmail6") {
            element = LoginPage.mailnesiaMail6;
        }
        if (element === "testmail7") {
            element = LoginPage.mailnesiaMail7;
        }
        if (element === "testmail8") {
            element = LoginPage.mailnesiaMail8;
        }
        if (element === "testmail9") {
            element = LoginPage.mailnesiaMail8;
        }
        if (element === "testmail10") {
            element = LoginPage.mailnesiaMail10;
        }
        if (element === "testmail11") {
            element = LoginPage.mailnesiaMail11;
        }
        if (element === "testmail12") {
            element = LoginPage.mailnesiaMail12;
        }
        if (element === "testmail13") {
            element = LoginPage.mailnesiaMail13;
        }
        if (element === "testmail14") {
            element = LoginPage.mailnesiaMail14;
        }
        if (element === "testmail15") {
            element = LoginPage.mailnesiaMail15;
        }
        if (element === "testmail16") {
            element = LoginPage.mailnesiaMail16;
        }
        if (element === "testmail17") {
            element = LoginPage.mailnesiaMail17;
        }
        if (element === "testmail18") {
            element = LoginPage.mailnesiaMail18;
        }
        if (element === "testmail19") {
            element = LoginPage.mailnesiaMail19;
        }
        if (element === "testmail20") {
            element = LoginPage.mailnesiaMail20;
        }
        if (element === "testmail21") {
            element = LoginPage.mailnesiaMail21;
        }
        if (element === "testmail22") {
            element = LoginPage.mailnesiaMail22;
        }
        if (element === "testmail23") {
            element = LoginPage.mailnesiaMail23;
        }
        if (element === "testmail24") {
            element = LoginPage.mailnesiaMail24;
        }
        element.waitForExist(20000);
    }
);
Then(
    /^I wait the element "([^"]*)?" to not be checked*$/,
    function (element) {
        if (element === "–í –ø–µ—Ä–µ–≤–æ–∑–∫–µ –Ω–∞–∫–ª–∞–¥–Ω–æ–π") {
            element = MainPage.buttonInTransportation;
        }
        if (element === "–í –ø–æ–¥–±–æ—Ä–∫–µ –Ω–∞–∫–ª–∞–¥–Ω–æ–π") {
            element = MainPage.buttonInPackaging;
        }
        if (element === "–¢–° –∑–∞–∫–∞–∑–∞–Ω–æ –≤ –ø–µ—Ä–µ–≤–æ–∑–∫–µ") {
            element = MainPage.buttonVehicleIsOrdered;
        }
        if (element === "–¢–° –ø—Ä–∏–±—ã–ª–æ –Ω–∞ –ø–æ–≥—Ä—É–∑–∫—É –≤ –ø–µ—Ä–µ–≤–æ–∑–∫–µ") {
            element = MainPage.buttonVehicleArrivedToLoading;
        }
        if (element === "–ù–∞–∫–ª–∞–¥–Ω–∞—è –ò–ï") {
            element = MainPage.waybillsIEInbound;
        }
        if (element === "–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ") {
            element = MainPage.linkPlanned;
        }
        $(element).waitForExist({timeout: 10000, reverse: true});
    }
);
Then(
    /^I expect this element "([^"]*)?" is not visible$/,
    function Loaders(element) {
        let element1;
        if (element === "Loader") {
            element = MainPage.Loader;
            element1 = MainPage.bigLoader;
        }
        browser.pause(1000);
        $(element).waitForDisplayed({timeout: 90000, reverse: true});
        $(element1).waitForDisplayed({timeout: 90000, reverse: true});
        browser.pause(1000);
    }
);

Then(
    /^I check filter date$/,
    function () {
        var date = new Date();
        let monthD, zero, zeroM, datayy, datadD;
        LoginPage.filterData.waitForExist();
        //–ø–æ–ª—É—á–∞–µ–º –¥–∞—Ç—É –∏–∑ –ø–æ–ª—è
        let datadd = $(MainPage.filterData).getValue();
        //–Ω—É–º–µ—Ä–∞—Ü–∏—è —Å –Ω—É–ª—è, –ø–æ—ç—Ç–æ–º—É +1 –∫ –Ω–æ–º–µ—Ä—É –º–µ—Å—è—Ü–∞.
        monthD = (date.getMonth() + 1);
        // —É—á–∏—Ç—ã–≤–∞–µ–º —á—Ç–æ –º–µ—Å—è—Ü –º–æ–∂–µ—Ç –±—ã—Ç—å —è–Ω–≤–∞—Ä—å –∏ —Ñ–µ–≤—Ä–∞–ª—å, –æ—Ç –∫–æ—Ç–æ—Ä—ã—Ö –ø–æ–¥—Å—á–µ—Ç —Ä–∞–∑–Ω–∏—Ü—ã -2 –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–º—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É,–ø–æ—ç—Ç–æ–º—É –ø—Ä–∏–±–∞–≤–ª—è–µ–º +12.
        // –∏ –æ—Ç –≥–æ–¥–∞ –æ—Ç–Ω–∏–º–∞–µ–º 1.
        datadD = date.getDate();
        datayy = date.getFullYear();
        if (monthD <= 2) {
            monthD = monthD + 12;
            datayy = datayy - 1;
        }
        //–æ—Ç–Ω–∏–º–∞–µ–º 2 –º–µ—Å—è—Ü–∞ –ø–æ –ª–æ–≥–∏–∫–µ —Å–±—Ä–æ—Å–∞ —Ñ–∏–ª—å—Ç—Ä–∞.
        monthD = monthD - 2;
        //–µ—Å–ª–∏ –¥–µ–Ω—å –¥–≤—É–∑–Ω–∞—á–Ω—ã–π, —Ç–æ –Ω–µ –¥–æ–±–∞–≤–ª—è–µ–º 0
        zero = String("");
        zeroM = String("");
        if (datadD < 10) {
            zero = String("0")
        }
        //–µ—Å–ª–∏ –º–µ—Å—è—Ü –¥–≤—É–∑–Ω–∞—á–Ω—ã–π, —Ç–æ –Ω–µ –¥–æ–±–∞–≤–ª—è–µ–º 0
        if (monthD < 10) {
            zeroM = String("0")
        }
        //–≤—ã—Å—á–∏—Ç—ã–≤–∞–µ–º –∏—Ç–æ–≥–æ–≤—É—é –¥–∞—Ç—É –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
        let datadd2 = (zero + datadD + "." + zeroM + monthD + "." + datayy);
        //–æ–±—Ä–µ–∑–∞–µ–º —Å–∏—Å—Ç–µ–º–Ω—É—é –¥–∞—Ç—É –¥–æ 10 –∑–Ω–∞–∫–æ–≤
        datadd = (String(datadd)).slice(0, 10);
        // —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º –¥–∞—Ç—É –ø–æ–ª—É—á–µ–Ω–Ω—É—é –∏ –¥–∞—Ç—É –∏–∑ —Å–∏—Å—Ç–µ–º—ã.
        if (datadd2 = !datadd) {
            throw new Error("Filter data is not correct");
        }
    }
);
Then(
    /^I set order date "([^"]*)?"$/,
    function (selector) {
        if (selector === "from month early") {
            //–∫–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –º–µ—Å—è—Ü —Ä–∞–Ω—å—à–µ, 1 —á–∏—Å–ª–æ.
            LoginPage.orderDataFromIcon.click();
            browser.pause(1500);
            LoginPage.arrowLeftInDataPicker.click();
            browser.pause(1500);
            LoginPage.day1InDataPicker.click();
            browser.pause(1500);
            LoginPage.orderDataFromIcon.click();
            browser.pause(1500);
        }
        if (selector === "from/to month early") {
            //–∫–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –º–µ—Å—è—Ü —Ä–∞–Ω—å—à–µ, 1 —á–∏—Å–ª–æ –æ—Ç.
            LoginPage.orderDataFromIcon.click();
            browser.pause(1500);
            LoginPage.day1InDataPicker.click();
            browser.pause(1500);
            LoginPage.orderDataFromIcon.click();
            browser.pause(1500);
            //–∫–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –º–µ—Å—è—Ü —Ä–∞–Ω—å—à–µ, 1 —á–∏—Å–ª–æ –¥–æ.
            LoginPage.orderDataToIcon.click();
            browser.pause(1500);
            LoginPage.arrowLeftInDataPicker.click();
            browser.pause(1500);
            LoginPage.arrowLeftInDataPicker.click();
            browser.pause(1500);
            LoginPage.day1InDataPicker.click();
            browser.pause(1500);
            LoginPage.orderDataToIcon.click();
            browser.pause(2500);
            LoginPage.buttonDeleteOrderUL.click();
            browser.pause(2500);
        }
    }
);

Then(
    /^I set date years "([^"]*)?"$/,
    function (element) {
        var z;
        var date = new Date();
        LoginPage.filterData.waitForExist();
        browser.pause(2000);
        //–ø–æ–ª—É—á–∞–µ–º –¥–∞—Ç—É –∏–∑ –ø–æ–ª—è
        let datayy = $(MainPage.filterData).getValue();
        let datayy2 = element;
        //–ø–æ–ª—É—á–∞–µ–º –¥–∞—Ç—É –∏–∑ –ø–æ–ª—è, —Å –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ–º
        datayy = (String(datayy)).slice(0, 10);
        //–ø–æ–ª—É—á–∞–µ–º –≥–æ–¥, —Å –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ–º
        datayy = (String(datayy)).slice(-4);
        // —Å—á–∏—Ç–∞–µ–º —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –∫–ª–∏–∫–Ω—É—Ç—å,–µ—Å–ª–∏ –æ—Ç–Ω—è—Ç—å —Ç–µ–∫—É—à–∏–π –≥–æ–¥ –æ—Ç —Ç–æ–≥–æ –∫–æ—Ç–æ—Ä—ã–π –≤ —à–∞–≥–µ
        z = datayy - datayy2;
        // –¥–µ–ª–∞–µ–º —Å—Ç–æ–ª—å–∫–æ –∫–ª–∏–∫–æ–≤, —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑–ª–∏—á–∏–π –≤ –≥–æ–¥–∞—Ö
        if (z > 0) {
            $(MainPage.filterCalendar).click();
            var i = 0;
            while (i < z) {
                $(MainPage.filterCalendarYearBack).click();
                browser.pause(1000);
                i++;
            }
            //–≤—ã–±–∏—Ä–∞–µ–º 20 —á–∏—Å–ª–æ
            browser.pause(1000);
            $(MainPage.filterCalendarDate).click();
        }
    }
);
Then(
    /^I set date years "([^"]*)?" orders$/,
    function (element) {
        var z;
        var date = new Date();
        LoginPage.filterData.waitForExist();
        browser.pause(2000);
        //–ø–æ–ª—É—á–∞–µ–º –¥–∞—Ç—É –∏–∑ –ø–æ–ª—è
        let datayy = $(MainPage.filterData).getValue();
        let datayy2 = element;
        //–ø–æ–ª—É—á–∞–µ–º –¥–∞—Ç—É –∏–∑ –ø–æ–ª—è, —Å –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ–º
        datayy = (String(datayy)).slice(0, 10);
        //–ø–æ–ª—É—á–∞–µ–º –≥–æ–¥, —Å –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ–º
        datayy = (String(datayy)).slice(-4);
        // —Å—á–∏—Ç–∞–µ–º —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –∫–ª–∏–∫–Ω—É—Ç—å,–µ—Å–ª–∏ –æ—Ç–Ω—è—Ç—å —Ç–µ–∫—É—à–∏–π –≥–æ–¥ –æ—Ç —Ç–æ–≥–æ –∫–æ—Ç–æ—Ä—ã–π –≤ —à–∞–≥–µ
        z = datayy - datayy2;
        // –¥–µ–ª–∞–µ–º —Å—Ç–æ–ª—å–∫–æ –∫–ª–∏–∫–æ–≤, —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑–ª–∏—á–∏–π –≤ –≥–æ–¥–∞—Ö
        if (z > 0) {
            $(MainPage.filterCalendarOrders).click();
            var i = 0;
            while (i < z) {
                $(MainPage.filterCalendarYearBack).click();
                browser.pause(1000);
                i++;
            }
            //–≤—ã–±–∏—Ä–∞–µ–º 20 —á–∏—Å–ª–æ
            browser.pause(1000);
            $(MainPage.filterCalendarDate).click();
        }
    }
);
Then(
    /^I check filter "([^"]*)?" carriage$/,
    function (value) {
        let typeElement;
        typeElement = LoginPage.fieldCarriage;
        typeElement.waitForExist();
        typeElement.setValue(value);
        browser.pause(3000);
        Loaders("Loader");
    }
);
Then(
    /^I set date (ship|delivery)( document)*( invoice)*( MO)*( filter planning)*$/,
    function (type, doc, inv, mo, filterPl) {
        var date = new Date();
        let monthD, datayy, locator, zero, zeroM, datadD;
        LoginPage.fieldDateShippingMO.waitForExist();
        datayy = date.getFullYear();
        datadD = date.getDate();
        //–Ω—É–º–µ—Ä–∞—Ü–∏—è –º–µ—Å—è—Ü–µ–≤ —Å –Ω—É–ª—è.–ø–æ—ç—Ç–æ–º—É –ø—Ä–∏–±–∞–≤–ª—è–µ–º +1
        if (type === 'ship') {
            monthD = (date.getMonth() + 1);
        }
        if (type === 'delivery') {
            monthD = (date.getMonth() + 3);
        }
        if (monthD > 13) {
            monthD = monthD - 13;
            datayy = datayy + 1;
        }
        if (monthD === 13) {
            monthD = monthD - 1;
        }
        //–µ—Å–ª–∏ –¥–µ–Ω—å –¥–≤—É–∑–Ω–∞—á–Ω—ã–π, —Ç–æ –Ω–µ –¥–æ–±–∞–≤–ª—è–µ–º 0
        zero = String("");
        zeroM = String("");
        if (datadD < 10) {
            zero = String("0")
        }
        //–µ—Å–ª–∏ –º–µ—Å—è—Ü –¥–≤—É–∑–Ω–∞—á–Ω—ã–π, —Ç–æ –Ω–µ –¥–æ–±–∞–≤–ª—è–µ–º 0
        if (monthD < 10) {
            zeroM = String("0")
        }
        //–ø–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É –æ—Ç —Å–∏—Å—Ç–µ–º—ã, —Å –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ–º
        let datadd2 = (zero + datadD + "." + (zeroM + (monthD)).slice(-2) + "." + datayy);
        // –∑–∞–ø–æ–ª–Ω—è–µ–º –¥–∞—Ç–æ–π –ø–æ–ª–µ –≤ –ú–û.
        locator = LoginPage.fieldDateShippingMO;
        if (doc) {
            locator = LoginPage.fieldDateBackDocumentMO
        }
        if (inv) {
            locator = LoginPage.fieldDateInvoiceIE
        }
        if (filterPl) {
            locator = LoginPage.fieldDateInvoicePlanning
        }
        locator.setValue(datadd2);
    }
);

Then(
    /^I check date (ship|delivery) (ShipmentInvoicePlan|ShipmentTransportationPlan|DeliveryInvoicePlan|DeliveryTransportationPlan) MO$/,
    function (type, locator) {
        var date = new Date();
        let monthD, datayy, zero, zeroM, datadD;
        if (locator === 'ShipmentInvoicePlan') {
            locator = MainPage.dateAndTimeOfTheShipmentInvoicePlan
        }
        ;
        if (locator === 'ShipmentTransportationPlan') {
            locator = MainPage.dateAndTimeOfTheShipmentTransportationPlan
        }
        ;
        if (locator === 'DeliveryInvoicePlan') {
            locator = MainPage.dateAndTimeOfTheDeliveryInvoicePlan
        }
        ;
        if (locator === 'DeliveryTransportationPlan') {
            locator = MainPage.dateAndTimeOfTheDeliveryTransportationPlan
        }
        ;
        LoginPage.fieldOrderInWaybills.waitForExist();
        //–ø–æ–ª—É—á–∞–µ–º –¥–∞—Ç—É –∏–∑ –ø–æ–ª—è
        let datadd = $(locator).getText();
        //–Ω—É–º–µ—Ä–∞—Ü–∏—è –º–µ—Å—è—Ü–µ–≤ —Å –Ω—É–ª—è.
        if (type === 'ship') {
            monthD = (date.getMonth() + 1);
        }
        if (type === 'delivery') {
            monthD = (date.getMonth() + 3);
        }
        datadD = date.getDate();
        datayy = date.getFullYear();
        if (monthD > 13) {
            monthD = monthD - 13;
            datayy = datayy + 1;
        }
        if (monthD === 13) {
            monthD = monthD - 1;
        }
        //–µ—Å–ª–∏ –¥–µ–Ω—å –¥–≤—É–∑–Ω–∞—á–Ω—ã–π, —Ç–æ –Ω–µ –¥–æ–±–∞–≤–ª—è–µ–º 0
        zero = String("");
        zeroM = String("");
        if (datadD < 10) {
            zero = String("0")
        }
        //–µ—Å–ª–∏ –º–µ—Å—è—Ü –¥–≤—É–∑–Ω–∞—á–Ω—ã–π, —Ç–æ –Ω–µ –¥–æ–±–∞–≤–ª—è–µ–º 0
        if (monthD < 10) {
            zeroM = String("0")
        }
        //–ø–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É –æ—Ç —Å–∏—Å—Ç–µ–º—ã, —Å –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ–º
        let datadd2 = (zero + datadD + "." + (zeroM + (monthD)).slice(-2) + "." + datayy);
        // –æ–±—Ä–µ–∑–∞–µ–º –≤ –ø–æ–ª—É—á–µ–Ω–Ω–æ–π –¥–∞—Ç–µ –≤—Ä–µ–º—è, —á—Ç–æ–±—ã –æ—Å—Ç–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ –¥–∞—Ç—ã.
        datadd = (String(datadd)).slice(0, 10);
        // —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º –¥–∞—Ç—É –ø–æ–ª—É—á–µ–Ω–Ω—É—é –∏ –¥–∞—Ç—É –∏–∑ —Å–∏—Å—Ç–µ–º—ã.
        if (datadd2 = !datadd) {
            throw new Error("Data shipment/deliver is not correct");
        }
    }
);
Then(
    /^I check date back document MO$/,
    function () {
        var date = new Date();
        let monthD, datayy, zero, zeroM, datadD;
        //–ø–æ–ª—É—á–∞–µ–º –¥–∞—Ç—É –∏–∑ –ø–æ–ª—è
        let dataddch1 = $(MainPage.dateAndTimeBackDocument1ch).getText();
        let dataddch2 = $(MainPage.dateAndTimeBackDocument2ch).getText();
        //–Ω—É–º–µ—Ä–∞—Ü–∏—è –º–µ—Å—è—Ü–µ–≤ —Å –Ω—É–ª—è.
        datadD = date.getDate();
        monthD = (date.getMonth() + 3);
        datayy = date.getFullYear();
        if (monthD > 13) {
            monthD = monthD - 13;
            datayy = datayy + 1;
        }
        if (monthD === 13) {
            monthD = monthD - 1;
        }
        //–µ—Å–ª–∏ –¥–µ–Ω—å –¥–≤—É–∑–Ω–∞—á–Ω—ã–π, —Ç–æ –Ω–µ –¥–æ–±–∞–≤–ª—è–µ–º 0
        zero = String("");
        zeroM = String("");
        if (datadD < 10) {
            zero = String("0")
        }
        //–µ—Å–ª–∏ –º–µ—Å—è—Ü –¥–≤—É–∑–Ω–∞—á–Ω—ã–π, —Ç–æ –Ω–µ –¥–æ–±–∞–≤–ª—è–µ–º 0
        if (monthD < 10) {
            zeroM = String("0")
        }
        //–ø–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É –æ—Ç —Å–∏—Å—Ç–µ–º—ã, —Å –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ–º
        let datadd2 = (zero + datadD + "." + (zeroM + (monthD)).slice(-2) + "." + datayy);
        // –æ–±—Ä–µ–∑–∞–µ–º –≤ –ø–æ–ª—É—á–µ–Ω–Ω–æ–π –¥–∞—Ç–µ –≤—Ä–µ–º—è, —á—Ç–æ–±—ã –æ—Å—Ç–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ –¥–∞—Ç—ã.
        dataddch1 = (String(dataddch1)).slice(0, 10);
        dataddch2 = (String(dataddch2)).slice(0, 10);
        // —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º –¥–∞—Ç—É –ø–æ–ª—É—á–µ–Ω–Ω—É—é –∏ –¥–∞—Ç—É –∏–∑ —Å–∏—Å—Ç–µ–º—ã.
        if (datadd2 = !dataddch1) {
            throw new Error("Data back document is not correct in 1 checkbox");
        }
        if (datadd2 = !dataddch2) {
            throw new Error("Data back document is not correct in 2 checkbox");
        }
    }
);
Then(
    /^I check data plannig arrival "([^"]*)?" ,departure "([^"]*)?" and arrival to custom "([^"]*)?"$/,
    function (datearr, datedepar, datearrcus) {
        var date = new Date();
        let monthD, datadD, numbermonth, zero, datadD2, zeroM, monthD2, datayy, zero2, zeroM2, datayy2;
        let typeElement;
        LoginPage.filterData.waitForExist();
        //–ø–æ–ª—É—á–∞–µ–º –¥–∞—Ç—É –∏–∑ –ø–æ–ª—è
        let datadd1 = $(MainPage.dateAndTimeArrivedCustom).getText();
        let datadd11 = $(MainPage.dateAndTimeUploadCustom).getText();
        //–Ω—É–º–µ—Ä–∞—Ü–∏—è —Å –Ω—É–ª—è, –ø–æ—ç—Ç–æ–º—É +1 –∫ –Ω–æ–º–µ—Ä—É –º–µ—Å—è—Ü–∞.
        monthD = (date.getMonth() + 1);
        datayy = date.getFullYear();
        datadD = date.getDate();
        // –ø–µ—Ä–µ–≤–æ–¥–∏–º —á–∞—Å—ã –∏–∑ —à–∞–≥–∞ –≤ –¥–Ω–∏.
        datearr = datearr / 24;
        datedepar = datedepar / 24;
        datearrcus = datearrcus / 24;
        // –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 31–¥ –≤ –º–µ—Å—è—Ü–µ
        numbermonth = 31;
        // –µ—Å–ª–∏ –≤ –º–µ—Å—è—Ü–∞—Ö 30 –¥–µ–Ω—å —Ç–æ —É—á–∏—Ç—ã–≤–∞–µ–º
        if (monthD === 4 || monthD === 6 || monthD === 9 || monthD === 11) {
            numbermonth = 30;
        }
        // –µ—Å–ª–∏ —Ñ–µ–≤—Ä–∞–ª—å —Ç–æ —É—á–∏—Ç—ã–≤–∞–µ–º
        if (monthD === 2) {
            numbermonth = 28;
        }
        // –ø–æ–¥—Å—á–µ—Ç –∫–æ–ª-–≤–∞ –¥–Ω–µ–π –ø—Ä–∏–±—ã—Ç–∏—è –Ω–∞ —Ç–∞–º–æ–∂–Ω—é (–≤—Ä–µ–º—è —Å–∏—Å—Ç–µ–º—ã +–≤—Ä–µ–º—è –ø—Ä–∏–±—ã—Ç–∏—è –Ω–∞ —Ç–∞–º–æ–∂–Ω—é+–≤—Ä–µ–º—è —Ç–∞–º–æ–∂–Ω–∏ –¥–æ —Å–∫–ª–∞–¥–∞-31 –¥–µ–Ω—å –≤ –º–µ—Å—è—Ü–µ )
        //–µ—Å–ª–∏ —Å—É–º–º–∞ –≤—Ä–µ–º–µ–Ω –±–æ–ª—å—à–µ —á–µ–º —á–∏—Å–ª–æ –¥–Ω–µ–π –≤ –º–µ—Å—è—Ü–µ
        if ((datadD + datearr + datearrcus) > numbermonth) {
            datadD = datadD + datearr - numbermonth + datearrcus
            monthD = monthD + 1;
        } else {
            datadD = datadD + datearr + datearrcus
        }
        if ((datadD + datedepar) > numbermonth) {
            datadD2 = datadD + datedepar - numbermonth
            monthD2 = monthD + 1;
        } else {
            datadD2 = datadD + datedepar
            monthD2 = monthD
        }
        // –µ—Å–ª–∏ —è–Ω–≤–∞—Ä—å –∏–ª–∏ –±–æ–ª—å—à–µ, —Ç–æ –¥–≤–∏–≥–∞–µ–º –≥–æ–¥ –≤–ø–µ—Ä–µ–¥.
        datayy2 = datayy;
        zero = String("");
        zeroM = String("");
        zero2 = String("");
        zeroM2 = String("");
        if (monthD > 12) {
            monthD = monthD - 12;
            datayy = datayy + 1;
        }
        if (monthD2 > 12) {
            monthD2 = monthD2 - 12;
            datayy2 = datayy2 + 1;
        }
        //–µ—Å–ª–∏ –¥–µ–Ω—å –¥–≤—É–∑–Ω–∞—á–Ω—ã–π, —Ç–æ –Ω–µ –¥–æ–±–∞–≤–ª—è–µ–º 0
        if (datadD < 10) {
            zero = String("0")
        }
        //–µ—Å–ª–∏ –º–µ—Å—è—Ü –¥–≤—É–∑–Ω–∞—á–Ω—ã–π, —Ç–æ –Ω–µ –¥–æ–±–∞–≤–ª—è–µ–º 0
        if (monthD < 10) {
            zeroM = String("0")
        }
        if (datadD2 < 10) {
            zero2 = String("0")
        }
        if (monthD2 < 10) {
            zeroM2 = String("0")
        }
        //–≤—ã—Å—á–∏—Ç—ã–≤–∞–µ–º –∫–æ–Ω–µ—á–Ω—É—é –¥–∞—Ç—É —Å –∫–æ—Ç–æ—Ä–æ–π –±—É–¥–µ–º —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å.
        let datadd2 = (zero + datadD + "." + zeroM + monthD + "." + datayy);
        let datadd22 = (zero2 + datadD2 + "." + zeroM2 + monthD2 + "." + datayy2);
        // –æ–±—Ä–µ–∑–∞–µ–º –∏–∑–Ω–∞—á–∞–ª—å–Ω—É—é –¥–∞—Ç—É,–ø–æ–ª—É—á–µ–Ω–Ω—É—é –æ—Ç —Å–∏—Å—Ç–µ–º—ã –¥–æ 10 –∑–Ω–∞–∫–æ–≤.
        datadd1 = (String(datadd1)).slice(0, 10);
        datadd11 = (String(datadd11)).slice(0, 10);
        // —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º –¥–∞—Ç—É –ø–æ–ª—É—á–µ–Ω–Ω—É—é –∏ –¥–∞—Ç—É –∏–∑ —Å–∏—Å—Ç–µ–º—ã.
        if (datadd2 = !datadd1) {
            throw new Error("Data arrival is not correct");
        }
        if (datadd22 = !datadd11) {
            throw new Error("Data departure is not correct");
        }
    }
);
